class Geddit{constructor(){this.host="https://www.reddit.com",this.parameters={limit:12}}async getHot(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/hot.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getBest(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/best.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getTop(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/top.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getNew(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/new.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getRising(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/rising.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getControversial(t=null,a=this.parameters){return t=t?"/r/"+t:"",await fetch(this.host+t+"/controversial.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainHot(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/hot.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainBest(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/best.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainTop(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/top.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainNew(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/new.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainRising(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/rising.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getDomainControversial(t,a=this.parameters){return await fetch(this.host+"/domain/"+t+"/controversial.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,posts:t.children.map((t=>t.data))}))).catch((t=>null))}async getSubreddit(t){return await fetch(this.host+"/r/"+t+"/about.json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getSubredditRules(t){return await fetch(this.host+"/r/"+t+"/about/rules.json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getSubredditModerators(t){return await fetch(this.host+"/r/"+t+"/about/moderators.json").then((t=>t.json())).then((t=>t.data)).then(data={users:data.children}).catch((t=>null))}async getSubredditWikiPages(t){return await fetch(this.host+"/r/"+t+"/wiki/pages.json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getSubredditWikiPage(t,a){return await fetch(this.host+"/r/"+t+"/wiki/"+a+".json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getSubredditWikiPageRevisions(t,a){return await fetch(this.host+"/r/"+t+"/wiki/revisions"+a+".json").then((t=>t.json())).then((t=>t.data.children)).catch((t=>null))}async getPopularSubreddits(t=this.parameters){return await fetch(this.host+"/subreddits/popular.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,subreddits:t.children.map((t=>t.data))}))).catch((t=>null))}async getNewSubreddits(t=this.parameters){return await fetch(this.host+"/subreddits/new.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,subreddits:t.children.map((t=>t.data))}))).catch((t=>null))}async getPremiumSubreddits(t=this.parameters){return await fetch(this.host+"/subreddits/premium.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,subreddits:t.children.map((t=>t.data))}))).catch((t=>null))}async getDefaultSubreddits(t=this.parameters){return await fetch(this.host+"/subreddits/default.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,subreddits:t.children.map((t=>t.data))}))).catch((t=>null))}async getPopularUsers(t=this.parameters){return await fetch(this.host+"/users/popular.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,users:t.children.map((t=>t.data))}))).catch((t=>null))}async getNewUsers(t=this.parameters){return await fetch(this.host+"/users/new.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,users:t.children.map((t=>t.data))}))).catch((t=>null))}async searchSubreddits(t,a=this.parameters){return a.q=t,await fetch(this.host+"/subreddits/search.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,subreddits:t.children.map((t=>t.data))}))).catch((t=>null))}async searchUsers(t,a=this.parameters){return a.q=t,await fetch(this.host+"/users/search.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,users:t.children.map((t=>t.data))}))).catch((t=>null))}async searchAll(t,a=null,e=this.parameters){return e.q=t,a=a?"/r/"+a:"",await fetch(this.host+a+"/search.json?"+new URLSearchParams(e)).then((t=>t.json())).then((t=>t.data)).then((t=>({after:t.after,results:t.children.map((t=>t.data))}))).catch((t=>null))}async getSubmission(t){return await fetch(this.host+"/by_id/"+t+".json").then((t=>t.json())).then((t=>t.data.children[0].data)).catch((t=>null))}async getSubmissionComments(t,a=this.parameters){return await fetch(this.host+"/comments/"+t+".json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>({submission:t[0].data.children[0].data,comments:t[1].data.children.map((t=>t.data))}))).catch((t=>null))}async getSubredditComments(t,a=this.parameters){return await fetch(this.host+"/r/"+t+"/comments.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}async getUser(t){return await fetch(this.host+"/user/"+t+"/about.json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getUserComments(t,a=this.parameters){return await fetch(this.host+"/user/"+t+"/comments.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}async getUserSubmissions(t,a=this.parameters){return await fetch(this.host+"/user/"+t+"/submitted.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}async getLiveThread(t){return await fetch(this.host+"/live/"+t+"/about.json").then((t=>t.json())).then((t=>t.data)).catch((t=>null))}async getLiveThreadUpdates(t,a=this.parameters){return await fetch(this.host+"/live/"+t+".json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}async getLiveThreadContributors(t,a=this.parameters){return await fetch(this.host+"/live/"+t+"/contributors.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children)).catch((t=>null))}async getLiveThreadDiscussions(t,a=this.parameters){return await fetch(this.host+"/live/"+t+"/discussions.json?"+new URLSearchParams(a)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}async getLiveThreadsNow(t=this.parameters){return await fetch(this.host+"/live/happening_now.json?"+new URLSearchParams(t)).then((t=>t.json())).then((t=>t.data.children.map((t=>t.data)))).catch((t=>null))}}export{Geddit};